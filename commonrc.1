# vim: set filetype=zsh :

# for setting history length see HISTSIZE and HISTFILESIZE in bash(1)
HISTSIZE=1000000
# bash only
HISTFILESIZE=1000000
# zsh only
SAVEHIST=1000000

export TERM="xterm-256color"

# some more ls aliases
alias ll='ls -alF'
alias la='ls -A'
alias l='ls -CF'
if hash gnome-open 2>/dev/null; then
    alias open='gnome-open 2>/dev/null'
    alias pbcopy='xsel --clipboard --input'
    alias pbpaste='xsel --clipboard --output'
fi

alias p='$(fc -ln -1)'

alias gits='git status -s'
. ~/opt/z/z.sh

if [[ -s "$HOME/.rvm/scripts/rvm" ]]  ; then source "$HOME/.rvm/scripts/rvm" ; fi

# # ref http://d.hatena.ne.jp/dame-p/20110313/1299992080
export JAVA_OPTS="-Dswank.encoding=utf-8-unix" # 日本語用？
# export JAVA_HOME=/usr/lib/jvm/java-7-openjdk-amd64
_JAVA_AWT_WM_NONREPARENTING=1; export _JAVA_AWT_WM_NONREPARENTING

### export HAXE_LIBRARY_PATH=/usr/lib/haxe/std:. # the ':.' part is important
### export HAXE_HOME=/usr/lib/haxe
### export NEKOPATH=/usr/lib/neko
### PATH=$PATH:$HAXE_LIBRARY_PATH:$HAXE_HOME


RUNLOG=rr.log
function rr {
    if [ $# -eq 0 ]; then
        LASTCMD=$(fc -ln -1)
        echo 'commit last command:'
        echo $LASTCMD
        echo $LASTCMD >> $RUNLOG
    else
        echo $@ >> $RUNLOG
        $@
    fi
}

rvm use ruby-2.1.1
export PATH=~/.rvm/gems/ruby-2.1.1/bin:/usr/local/bin:~/.config/thinkpad:$PATH:~/opt:/opt:~/.cabal/bin
export GOPATH=~/gopath
export PATH="$PATH:$HOME/.rvm/bin:$HOME/node_modules/bin" # Add RVM, node to PATH for scripting

if [ -e /opt/android-sdk-linux/tools ]; then
    export PATH=$PATH:/opt/android-sdk-linux/tools
fi

stty stop undef # unmap ctrl-s for vim-ipython

if [[ $(hostname) == *mba* ]] then
    export RUBYMOTION_ANDROID_SDK=~/Development/adt-bundle-mac-x86_64-20140702/sdk
    export RUBYMOTION_ANDROID_NDK=~/Development/android-ndk-r10b
    export JAVA_HOME=$(/usr/libexec/java_home)
    PATH=$PATH:"$HOME/Development/adt-bundle-mac-x86_64-20140702/sdk/tools:$HOME/Development/adt-bundle-mac-x86_64-20140702/sdk/platform-tools"
else
    :
fi


# BOOT option
BOOT_JVM_OPTIONS="-XX:MaxPermSize=128m -XX:+UseConcMarkSweepGC -XX:+CMSClassUnloadingEnabled"
